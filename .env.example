# =============================================================================
# Developer Dashboard - Environment Configuration
# =============================================================================
#
# SETUP INSTRUCTIONS:
# 1. Copy this file to .env: cp .env.example .env
# 2. Fill in the values below (especially GitHub OAuth and JWT secret)
# 3. NEVER commit .env to version control!
#
# The .env file is automatically loaded by:
# - Backend: pydantic-settings reads it automatically
# - Docker Compose: uses env_file directive
#
# =============================================================================

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Application name - displayed in various places
APP_NAME="Developer Dashboard"

# Debug mode - enables verbose logging and error details
# Set to false in production!
DEBUG=true

# Environment identifier
# Options: development, staging, production
# Affects security settings like cookie secure flag
ENVIRONMENT=development

# =============================================================================
# DATABASE (PostgreSQL)
# =============================================================================

# Database connection URL
# Format: postgresql+asyncpg://username:password@host:port/database
#
# Components:
# - postgresql+asyncpg:// - Protocol with async driver (required for async SQLAlchemy)
# - username:password - Database credentials
# - host:port - Database server location
# - database - Database name
#
# For local development (using Docker PostgreSQL on port 5434):
DATABASE_URL=postgresql+asyncpg://devdash_user:devdash_password@localhost:5434/devdash_db

# For Docker Compose (use service name as host):
# DATABASE_URL=postgresql+asyncpg://devdash_user:devdash_password@postgres:5432/devdash_db

# PostgreSQL individual settings (used by Docker Compose for initial setup)
POSTGRES_USER=devdash_user
POSTGRES_PASSWORD=devdash_password
POSTGRES_DB=devdash_db

# =============================================================================
# GITHUB OAUTH
# =============================================================================

# GitHub OAuth App Credentials
# Create your OAuth App at: https://github.com/settings/developers
#
# When creating the app, use these settings:
# - Application name: Developer Dashboard (or your choice)
# - Homepage URL: http://localhost:3000
# - Authorization callback URL: http://localhost:8000/api/auth/callback
#
# After creation, copy the Client ID and generate a Client Secret

# Client ID from GitHub OAuth App settings
GITHUB_CLIENT_ID=your_github_client_id_here

# Client Secret - click "Generate a new client secret" in GitHub
# WARNING: This is shown only once! Save it immediately.
GITHUB_CLIENT_SECRET=your_github_client_secret_here

# OAuth callback URL - must match EXACTLY what you set in GitHub
# This is where GitHub redirects after user authorizes
GITHUB_REDIRECT_URI=http://localhost:8000/api/auth/callback

# OAuth scopes - permissions we request from the user
# Space-separated list of scopes:
# - read:user    : Read user profile data (name, email, bio, etc.)
# - user:email   : Access user's email addresses
# - repo         : Full access to public and private repositories
#
# For public repos only, use: read:user user:email public_repo
# Full documentation: https://docs.github.com/en/apps/oauth-apps/building-oauth-apps/scopes-for-oauth-apps
GITHUB_SCOPES="read:user user:email repo"

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================

# Secret key for signing JWT tokens
# CRITICAL: Generate a secure random key for production!
#
# Generate with: openssl rand -hex 32
# Or with Python: python -c "import secrets; print(secrets.token_hex(32))"
#
# This key should be:
# - At least 32 characters long
# - Randomly generated
# - Different for each environment
# - NEVER committed to version control
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production-use-openssl-rand-hex-32

# JWT signing algorithm
# HS256 is symmetric (same key for signing and verification)
# Alternatives: HS384, HS512, RS256 (asymmetric)
JWT_ALGORITHM=HS256

# Access token expiration time in minutes
# Short-lived for security - user will be logged out after this time
# Recommendation: 15-60 minutes
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Refresh token expiration time in days
# Longer-lived - allows getting new access tokens without re-login
# Recommendation: 7-30 days
REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# CORS (Cross-Origin Resource Sharing)
# =============================================================================

# Frontend URL for CORS configuration
# The backend will only accept requests from this origin
# Must match EXACTLY including protocol and port
#
# Development:
FRONTEND_URL=http://localhost:3000

# Production example:
# FRONTEND_URL=https://dashboard.yourdomain.com

# =============================================================================
# CACHING
# =============================================================================

# Cache Time-To-Live (TTL) in seconds
# How long to cache GitHub API responses before refreshing
#
# GitHub API rate limits:
# - Authenticated users: 5,000 requests/hour
# - We cache aggressively to stay well under this limit
#
# Common values:
# - 3600   = 1 hour
# - 21600  = 6 hours
# - 43200  = 12 hours
# - 86400  = 24 hours (recommended)
CACHE_TTL_SECONDS=86400

# =============================================================================
# GITHUB API
# =============================================================================

# GitHub API base URL
# Don't change unless using GitHub Enterprise
GITHUB_API_BASE_URL=https://api.github.com

# =============================================================================
# LOGGING
# =============================================================================

# Log level for the application
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
# Use DEBUG for development, INFO or WARNING for production
LOG_LEVEL=INFO

# =============================================================================
# DOCKER COMPOSE SPECIFIC
# =============================================================================

# These are used by docker-compose.yml for service configuration

# Backend service port (inside container)
BACKEND_PORT=8000

# Frontend service port (inside container)
FRONTEND_PORT=3000

# PostgreSQL port (host port mapping to container's 5432)
# Using 5434 to avoid conflict with local PostgreSQL installations
POSTGRES_PORT=5434
